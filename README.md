# Render MRPAK

–í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞ –¥–ª—è React, React Native –∏ HTML —Ñ–∞–π–ª–æ–≤ –Ω–∞ –±–∞–∑–µ Electron.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞](#–æ–ø–∏—Å–∞–Ω–∏–µ-–ø—Ä–æ–µ–∫—Ç–∞)
- [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫](#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π-—Å—Ç–µ–∫)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–°–≤—è–∑—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∏ –±—ç–∫–µ–Ω–¥–∞](#—Å–≤—è–∑—å-—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞-–∏-–±—ç–∫–µ–Ω–¥–∞)
- [–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#–æ—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–∑–∞–ø—É—Å–∫)
- [–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞](#—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

Render MRPAK ‚Äî —ç—Ç–æ –¥–µ—Å–∫—Ç–æ–ø–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è React, React Native –∏ HTML —Ñ–∞–π–ª–æ–≤. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç:

- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –≤ –≤–∏–∑—É–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ (Monaco Editor)
- –†–∞–±–æ—Ç–∞—Ç—å —Å –±–ª–æ—á–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (Block Editor)
- –£–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–æ–µ–∫—Ç–æ–º —á–µ—Ä–µ–∑ —Ñ–∞–π–ª–æ–≤–æ–µ –¥–µ—Ä–µ–≤–æ
- –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Frontend
- **React 18** ‚Äî UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **React Native Web** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ React Native –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ –≤–µ–±-–æ–∫—Ä—É–∂–µ–Ω–∏–∏
- **Monaco Editor** ‚Äî —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞ (VS Code editor)
- **Vite** ‚Äî —Å–±–æ—Ä—â–∏–∫ –∏ dev-—Å–µ—Ä–≤–µ—Ä

### Backend
- **Electron 28** ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–µ—Å–∫—Ç–æ–ø–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **Node.js** ‚Äî —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ Electron

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- **@babel/standalone** ‚Äî —Ç—Ä–∞–Ω—Å–ø–∏–ª—è—Ü–∏—è JSX –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- **React DOM** ‚Äî —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ Electron —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ –≥–ª–∞–≤–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å (Main Process) –∏ –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ (Renderer Process).

### –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Electron Application                  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ
‚îÇ  ‚îÇ  Main Process    ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ Renderer Process ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ  (Node.js)       ‚îÇ   IPC   ‚îÇ  (Chromium)      ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ                  ‚îÇ         ‚îÇ                  ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ  - File System   ‚îÇ         ‚îÇ  - React UI      ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ  - Dialogs       ‚îÇ         ‚îÇ  - WebView       ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ  - File Watchers ‚îÇ         ‚îÇ  - Block Editor  ‚îÇ     ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ
‚îÇ         ‚îÇ                              ‚îÇ                 ‚îÇ
‚îÇ         ‚îÇ                              ‚îÇ                 ‚îÇ
‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                 ‚îÇ
‚îÇ                    ‚îÇ                                     ‚îÇ
‚îÇ              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                              ‚îÇ
‚îÇ              ‚îÇ Preload.js ‚îÇ                              ‚îÇ
‚îÇ              ‚îÇ (Bridge)  ‚îÇ                              ‚îÇ
‚îÇ              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                              ‚îÇ
‚îÇ                                                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

1. **Main Process (electron/main.js)**
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–∫–Ω–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ IPC –∑–∞–ø—Ä–æ—Å–æ–≤
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ñ–∞–π–ª–æ–≤

2. **Renderer Process (src/)**
   - React UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
   - –í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –±–ª–æ–∫–æ–≤
   - –¢–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

3. **Preload Script (electron/preload.js)**
   - –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –º–æ—Å—Ç –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
   - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API –¥–ª—è —Ä–µ–Ω–¥–µ—Ä-–ø—Ä–æ—Ü–µ—Å—Å–∞
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç contextBridge –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏

### –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ö–µ–º–∞ —Å–≤—è–∑–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         FRONTEND (Renderer)                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                   ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ
‚îÇ  ‚îÇ   React UI   ‚îÇ    ‚îÇ   WebView    ‚îÇ    ‚îÇ Block Editor ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ  Components  ‚îÇ    ‚îÇ   (iframe)   ‚îÇ    ‚îÇ   Panel      ‚îÇ      ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ
‚îÇ         ‚îÇ                   ‚îÇ                    ‚îÇ               ‚îÇ
‚îÇ         ‚îÇ                   ‚îÇ postMessage        ‚îÇ               ‚îÇ
‚îÇ         ‚îÇ                   ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§               ‚îÇ
‚îÇ         ‚îÇ                   ‚îÇ                    ‚îÇ               ‚îÇ
‚îÇ         ‚îÇ                   ‚îÇ MRPAK_MSG          ‚îÇ               ‚îÇ
‚îÇ         ‚îÇ                   ‚îÇ MRPAK_CMD          ‚îÇ               ‚îÇ
‚îÇ         ‚îÇ                   ‚îÇ                    ‚îÇ               ‚îÇ
‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò               ‚îÇ
‚îÇ                            ‚îÇ                                      ‚îÇ
‚îÇ                            ‚îÇ window.electronAPI                   ‚îÇ
‚îÇ                            ‚îÇ                                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                             ‚îÇ
                             ‚îÇ IPC (ipcRenderer.invoke)
                             ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                            ‚îÇ                                      ‚îÇ
‚îÇ                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                              ‚îÇ
‚îÇ                    ‚îÇ  Preload.js   ‚îÇ                              ‚îÇ
‚îÇ                    ‚îÇ (contextBridge)‚îÇ                              ‚îÇ
‚îÇ                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                              ‚îÇ
‚îÇ                            ‚îÇ                                      ‚îÇ
‚îÇ                            ‚îÇ IPC (ipcMain.handle)                 ‚îÇ
‚îÇ                            ‚îÇ                                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îÇ
‚îÇ  ‚îÇ              BACKEND (Main Process)                ‚îÇ           ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§           ‚îÇ
‚îÇ  ‚îÇ                                                     ‚îÇ           ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ           ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ File System  ‚îÇ  ‚îÇ   Dialogs   ‚îÇ  ‚îÇ Watchers ‚îÇ ‚îÇ           ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ Operations   ‚îÇ  ‚îÇ   (Native)  ‚îÇ  ‚îÇ  (fs)    ‚îÇ ‚îÇ           ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ           ‚îÇ
‚îÇ  ‚îÇ                                                     ‚îÇ           ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò           ‚îÇ
‚îÇ                                                                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
renderMRPAK/
‚îú‚îÄ‚îÄ electron/                    # Backend (Main Process)
‚îÇ   ‚îú‚îÄ‚îÄ main.js                 # –ì–ª–∞–≤–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å Electron
‚îÇ   ‚îî‚îÄ‚îÄ preload.js              # Preload —Å–∫—Ä–∏–ø—Ç (IPC –º–æ—Å—Ç)
‚îÇ
‚îú‚îÄ‚îÄ src/                        # Frontend (Renderer Process)
‚îÇ   ‚îú‚îÄ‚îÄ App.jsx                 # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–æ–±—ã—á–Ω—ã–π React)
‚îÇ   ‚îú‚îÄ‚îÄ AppRN.jsx               # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (React Native Web)
‚îÇ   ‚îú‚îÄ‚îÄ main.jsx                # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è React
‚îÇ   ‚îú‚îÄ‚îÄ mainRN.jsx              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è React Native
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ RenderFile.jsx          # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ FileTree.jsx           # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ñ–∞–π–ª–æ–≤–æ–≥–æ –¥–µ—Ä–µ–≤–∞
‚îÇ   ‚îú‚îÄ‚îÄ BlockEditorPanel.jsx   # –ü–∞–Ω–µ–ª—å –±–ª–æ—á–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ WebView.jsx            # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç WebView –¥–ª—è iframe
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ blockEditor/            # –°–∏—Å—Ç–µ–º–∞ –±–ª–æ—á–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EditorProtocol.js  # –ü—Ä–æ—Ç–æ–∫–æ–ª —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HtmlInstrumenter.js # –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ HTML
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ JsxInstrumenter.js # –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ JSX
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LayerNamesStore.js # –•—Ä–∞–Ω–∏–ª–∏—â–µ –∏–º–µ–Ω —Å–ª–æ–µ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ styleUtils.js      # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Å—Ç–∏–ª–µ–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PatchEngine/        # –î–≤–∏–∂–æ–∫ –ø–∞—Ç—á–µ–π
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ index.js
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ applyHtmlStylePatch.js
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ applyJsxStylePatch.js
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ applyHtmlInsertDelete.js
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ applyJsxInsertDelete.js
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ applyExternalStylePatch.js
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ parseStyleImports.js
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ features/               # –ú–æ–¥—É–ª–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ file-operations/   # –û–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ñ–∞–π–ª–∞–º–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ file-renderer/      # –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ lib/
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ react-processor.js    # –û–±—Ä–∞–±–æ—Ç–∫–∞ React –∫–æ–¥–∞
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ path-resolver.js     # –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø—É—Ç–µ–π
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ block-editor-script.js # –°–∫—Ä–∏–ø—Ç —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ shared/                 # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ api/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ electron-api.js # API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Electron
‚îÇ       ‚îú‚îÄ‚îÄ lib/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ file-type-detector.js # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤
‚îÇ       ‚îî‚îÄ‚îÄ ui/                 # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ           ‚îú‚îÄ‚îÄ dialogs/       # –î–∏–∞–ª–æ–≥–∏
‚îÇ           ‚îú‚îÄ‚îÄ fields/        # –ü–æ–ª—è –≤–≤–æ–¥–∞
‚îÇ           ‚îú‚îÄ‚îÄ monaco-editor-wrapper/ # –û–±–µ—Ä—Ç–∫–∞ Monaco Editor
‚îÇ           ‚îî‚îÄ‚îÄ view-mode-tabs/ # –¢–∞–±—ã —Ä–µ–∂–∏–º–æ–≤ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
‚îÇ
‚îú‚îÄ‚îÄ tests/                      # –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –∏ –ø—Ä–∏–º–µ—Ä—ã
‚îú‚îÄ‚îÄ package.json               # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ vite.config.js             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vite
‚îî‚îÄ‚îÄ README.md                  # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –°–≤—è–∑—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∏ –±—ç–∫–µ–Ω–¥–∞

### IPC (Inter-Process Communication) –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–°–≤—è–∑—å –º–µ–∂–¥—É —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º –∏ –±—ç–∫–µ–Ω–¥–æ–º –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ Electron IPC —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –º–æ—Å—Ç–∞ —á–µ—Ä–µ–∑ `preload.js`.

#### 1. Preload Script (electron/preload.js)

Preload —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –º–æ—Å—Ç –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏, –∏—Å–ø–æ–ª—å–∑—É—è `contextBridge`:

```javascript
// electron/preload.js
const { contextBridge, ipcRenderer } = require('electron');

contextBridge.exposeInMainWorld('electronAPI', {
  readFile: (filePath) => ipcRenderer.invoke('fs:readFile', filePath),
  writeFile: (filePath, content, options) => 
    ipcRenderer.invoke('fs:writeFile', filePath, content, options),
  // ... –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã
});
```

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- `nodeIntegration: false` ‚Äî –æ—Ç–∫–ª—é—á–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Node.js –≤ —Ä–µ–Ω–¥–µ—Ä-–ø—Ä–æ—Ü–µ—Å—Å
- `contextIsolation: true` ‚Äî –∏–∑–æ–ª—è—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –í—Å–µ API –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `window.electronAPI`

#### 2. Main Process (electron/main.js)

–ì–ª–∞–≤–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç IPC –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ `ipcMain.handle`:

```javascript
// electron/main.js
ipcMain.handle('fs:readFile', async (event, filePath) => {
  try {
    const content = await fs.readFile(filePath, 'utf-8');
    return { success: true, content };
  } catch (error) {
    return { success: false, error: error.message };
  }
});
```

#### 3. Frontend API (src/shared/api/electron-api.js)

–§—Ä–æ–Ω—Ç–µ–Ω–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Electron API:

```javascript
// src/shared/api/electron-api.js
export async function readFile(filePath) {
  if (!window.electronAPI) {
    return { success: false, error: 'Electron API –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω' };
  }
  return await window.electronAPI.readFile(filePath);
}
```

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   React     ‚îÇ         ‚îÇ   Preload    ‚îÇ         ‚îÇ   Main      ‚îÇ
‚îÇ  Component  ‚îÇ         ‚îÇ    Script    ‚îÇ         ‚îÇ  Process    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ                        ‚îÇ                       ‚îÇ
       ‚îÇ 1. readFile(path)      ‚îÇ                       ‚îÇ
       ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ                       ‚îÇ
       ‚îÇ                        ‚îÇ 2. ipcRenderer.invoke ‚îÇ
       ‚îÇ                        ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ
       ‚îÇ                        ‚îÇ                       ‚îÇ 3. fs.readFile()
       ‚îÇ                        ‚îÇ                       ‚îÇ
       ‚îÇ                        ‚îÇ 4. {success, content} ‚îÇ
       ‚îÇ                        ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
       ‚îÇ 5. {success, content} ‚îÇ                       ‚îÇ
       ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§                       ‚îÇ
       ‚îÇ                        ‚îÇ                       ‚îÇ
```

### –û—Å–Ω–æ–≤–Ω—ã–µ IPC –∫–∞–Ω–∞–ª—ã

#### –§–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- `fs:readFile` ‚Äî —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
- `fs:writeFile` ‚Äî –∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–∞
- `fs:readDirectory` ‚Äî —á—Ç–µ–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- `fs:readFileBase64` ‚Äî —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –≤ base64
- `fs:deleteFile` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
- `fs:deleteDirectory` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- `fs:rename` ‚Äî –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞/–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- `fs:ensureDir` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

#### –î–∏–∞–ª–æ–≥–∏
- `dialog:openFile` ‚Äî –¥–∏–∞–ª–æ–≥ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞
- `dialog:openDirectory` ‚Äî –¥–∏–∞–ª–æ–≥ –≤—ã–±–æ—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

#### –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
- `fs:watchFile` ‚Äî –Ω–∞—á–∞–ª–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞
- `fs:unwatchFile` ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
- `file:changed` ‚Äî —Å–æ–±—ã—Ç–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–∞ (–æ—Ç Main –∫ Renderer)

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```javascript
// –í React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
import { readFile, writeFile } from './shared/api/electron-api';

// –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
const result = await readFile('/path/to/file.jsx');
if (result.success) {
  console.log(result.content);
}

// –ó–∞–ø–∏—Å—å —Ñ–∞–π–ª–∞
const writeResult = await writeFile('/path/to/file.jsx', newContent, {
  backup: true // —Å–æ–∑–¥–∞—Å—Ç .bak —Ñ–∞–π–ª
});
```

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. RenderFile.jsx

–ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:
- HTML —Ñ–∞–π–ª—ã
- React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (JSX/TSX)
- React Native –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –û–±—Ä–∞–±–æ—Ç–∫—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –∏–º–ø–æ—Ä—Ç–æ–≤
- –í–∏–∑—É–∞–ª—å–Ω—ã–π –±–ª–æ—á–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
- –¢–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞

**–†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã:**
- `preview` ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä —Ñ–∞–π–ª–∞
- `edit` ‚Äî –≤–∏–∑—É–∞–ª—å–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–ª–æ–∫–æ–≤
- `code` ‚Äî —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 2. BlockEditorPanel.jsx

–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–ª–æ—á–Ω—ã–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–º:
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∏–ª–µ–π —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ—è–º–∏ (layers)
- –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –í—Å—Ç–∞–≤–∫–∞/—É–¥–∞–ª–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤

### 3. FileTree.jsx

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ñ–∞–π–ª–æ–≤–æ–≥–æ –¥–µ—Ä–µ–≤–∞ –ø—Ä–æ–µ–∫—Ç–∞:
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ñ–∞–π–ª–∞–º
- –û—Ç–∫—Ä—ã—Ç–∏–µ —Ñ–∞–π–ª–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫
- –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ

### 4. Block Editor System

–°–∏—Å—Ç–µ–º–∞ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- `HtmlInstrumenter` ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç `data-mrpak-id` –∞—Ç—Ä–∏–±—É—Ç—ã –∫ HTML —ç–ª–µ–º–µ–Ω—Ç–∞–º
- `JsxInstrumenter` ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç `data-mrpak-id` –∫ JSX —ç–ª–µ–º–µ–Ω—Ç–∞–º –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ

**Patch Engine:**
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∏–ª–µ–π
- –í—Å—Ç–∞–≤–∫–∞/—É–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
- –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (reparent)

**–ü—Ä–æ—Ç–æ–∫–æ–ª —Å–æ–æ–±—â–µ–Ω–∏–π:**
- `MRPAK_MSG` ‚Äî —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç iframe –∫ React (SELECT, APPLY, TREE –∏ —Ç.–¥.)
- `MRPAK_CMD` ‚Äî –∫–æ–º–∞–Ω–¥—ã –æ—Ç React –∫ iframe (INSERT, DELETE, SET_STYLE –∏ —Ç.–¥.)

### 5. WebView.jsx

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è HTML –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ iframe:
- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ HTML/React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –±–ª–æ—á–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å BlockEditorPanel

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18+ 
- npm –∏–ª–∏ yarn

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
npm run electron:dev
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞:
1. –ó–∞–ø—É—Å–∫–∞–µ—Ç Vite dev-—Å–µ—Ä–≤–µ—Ä –Ω–∞ `http://localhost:5173`
2. –ñ–¥–µ—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞
3. –ó–∞–ø—É—Å–∫–∞–µ—Ç Electron –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –°–±–æ—Ä–∫–∞ –¥–ª—è production

```bash
npm run build        # –°–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
npm run electron:build  # –°–±–æ—Ä–∫–∞ Electron –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```

–°–æ–±—Ä–∞–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –≤ –ø–∞–ø–∫–µ `release/`.

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª–µ–π

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É:

- **features/** ‚Äî —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏
  - `file-renderer/` ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ñ–∞–π–ª–æ–≤
  - `file-operations/` ‚Äî –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ñ–∞–π–ª–∞–º–∏

- **shared/** ‚Äî –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã
  - `api/` ‚Äî API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Electron
  - `lib/` ‚Äî –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
  - `ui/` ‚Äî –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- **blockEditor/** ‚Äî —Å–∏—Å—Ç–µ–º–∞ –±–ª–æ—á–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
  - –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
  - –î–≤–∏–∂–æ–∫ –ø–∞—Ç—á–µ–π
  - –ü—Ä–æ—Ç–æ–∫–æ–ª —Å–æ–æ–±—â–µ–Ω–∏–π

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

1. **–ù–æ–≤—ã–µ IPC –º–µ—Ç–æ–¥—ã:**
   - –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ `electron/main.js` —á–µ—Ä–µ–∑ `ipcMain.handle`
   - –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ –≤ `electron/preload.js` —á–µ—Ä–µ–∑ `contextBridge`
   - –°–æ–∑–¥–∞—Ç—å –æ–±–µ—Ä—Ç–∫—É –≤ `src/shared/api/electron-api.js`

2. **–ù–æ–≤—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
   - –†–∞–∑–º–µ—â–∞—Ç—å –≤ `src/shared/ui/` –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
   - –ò–ª–∏ –≤ `src/features/` –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤:**
   - –î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–µ–∫—Ç–æ—Ä –≤ `src/shared/lib/file-type-detector.js`
   - –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ `src/RenderFile.jsx`

### –û—Ç–ª–∞–¥–∫–∞

- **Main Process:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `console.log` –≤ `electron/main.js` (–≤—ã–≤–æ–¥ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª)
- **Renderer Process:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ DevTools (–æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ dev —Ä–µ–∂–∏–º–µ)
- **IPC:** –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ DevTools Console

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã –∏–∑ React/React Native —Ñ–∞–π–ª–æ–≤
- –†–∞–∑—Ä–µ—à–∞–µ—Ç –ø—É—Ç–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π `@/` –∞–ª–∏–∞—Å–æ–≤
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ (`./`, `../`)
- –í—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ HTML –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞

### –ë–ª–æ—á–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä

- –≠–ª–µ–º–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ `data-mrpak-id` –∞—Ç—Ä–∏–±—É—Ç—ã
- –î–µ—Ä–µ–≤–æ —Å–ª–æ–µ–≤ —Å—Ç—Ä–æ–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è –≤ staged patches
- –ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∏–ª–∏ —Å–º–µ–Ω–µ —Ä–µ–∂–∏–º–∞

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ DOM

–ü–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
- DOM —ç–ª–µ–º–µ–Ω—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—é—Ç `data-mrpak-id`
- MutationObserver –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –Ω–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- –î–µ—Ä–µ–≤–æ —Å–ª–æ–µ–≤ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

